function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){var t,o=this.getAttribute("href");o&&"#"!==o&&(t=document.querySelector(o))&&(e.preventDefault(),t.scrollIntoView({behavior:"smooth",block:"start"}),history.pushState(null,null,o))})})}function initIntersectionObserver(){let t=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1});document.querySelectorAll(".fade-in").forEach(e=>t.observe(e))}function initMobileMenu(){let o=document.querySelector(".menu-toggle"),n=document.querySelector(".nav-links"),i=document.querySelector(".menu-overlay"),a=document.body;if(o&&n&&i){console.log("Inicializando menú móvil...");let t=()=>{console.log("Cerrando menú..."),o.setAttribute("aria-expanded","false"),o.classList.remove("active"),n.classList.remove("active"),i.classList.remove("active"),a.classList.remove("no-scroll")};t(),o.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),console.log("Botón de menú clickeado"),n.classList.contains("active")?t():(console.log("Abriendo menú..."),o.setAttribute("aria-expanded","true"),o.classList.add("active"),n.classList.add("active"),i.classList.add("active"),a.classList.add("no-scroll"),n.style.willChange="transform",i.style.willChange="opacity",setTimeout(()=>{n.style.willChange="auto",i.style.willChange="auto"},300))}),i.addEventListener("click",e=>{e.preventDefault(),t()}),n.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{n.classList.contains("active")&&setTimeout(t,100)})}),window.addEventListener("resize",()=>{768<window.innerWidth&&n.classList.contains("active")&&t()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&n.classList.contains("active")&&t()})}else console.log("Elementos del menú móvil no encontrados.")}function initThemeToggle(){var t=document.querySelector(".theme-toggle");let n=document.body;if(t){console.log("Inicializando toggle de tema...");let e=()=>{var e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;let o;o=e||(t?"dark":"light"),n.setAttribute("data-theme",o),console.log("Tema aplicado: "+o)};e(),t.addEventListener("click",()=>{var e="dark"===(n.getAttribute("data-theme")||"dark")?"light":"dark";n.setAttribute("data-theme",e),localStorage.setItem("theme",e),console.log("Tema cambiado a: "+e)}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{localStorage.getItem("theme")||e()})}else console.log("Botón de cambio de tema no encontrado.")}function initSkipToContent(){var e=document.querySelector(".skip-to-content");e&&e.addEventListener("click",function(e){e.preventDefault();e=document.getElementById("main-content");e&&(e.setAttribute("tabindex","-1"),e.focus())})}function initDeferredImages(){var e=document.getElementById("lcp-container"),e=(e&&(e.style.containIntrinsicSize="auto 600px",e.style.contain="layout paint"),()=>{var e=document.querySelectorAll("[data-src]");0<e.length&&e.forEach(e=>{e.dataset.src&&(e.src=e.dataset.src,e.removeAttribute("data-src"))})});window.addEventListener("scroll",e,{once:!0}),window.addEventListener("mousemove",e,{once:!0})}document.addEventListener("DOMContentLoaded",()=>{console.log("PAELLADOC SCRIPTS: DOM cargado, inicializando...");try{initSmoothScroll(),initIntersectionObserver(),initMobileMenu(),initThemeToggle(),initSkipToContent(),initDeferredImages(),console.log("PAELLADOC SCRIPTS: Componentes inicializados.")}catch(e){console.error("PAELLADOC SCRIPTS: Error inicializando componentes:",e)}});